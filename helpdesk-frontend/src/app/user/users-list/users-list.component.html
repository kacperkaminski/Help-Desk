<div class="container">
	<div class="row">
		<div class="col">
			<section>
				<div class="row">
					<h1>Users</h1>
					<div class="col-xs-6"></div>
					<div class="col-xs-2">
						<input #userSearchInput placeholder="Search user..." [(ngModel)]="name" (input)="searchUser(userSearchInput.value)">
					</div>
					<div class="col-xs-2" ></div>
						<div class="col-xs-2" >
							<button type="button" class="btn btn-success" (click)="redirectNewUserPage()">New User</button>
						</div>
					</div>
			</section>
			<section class="main">
				<table class="table table-striped">
					<thead>
						<tr>
							<th>#</th>
							<th>First Name</th>
							<th>Last Name</th>
							<th>Email</th>
							<th>Username</th>
							<th>Role</th>
							<th>Status</th>
							<th></th>
						</tr>
					</thead>
					<tbody>
						<tr *ngFor="let user of filteredUsers">
							<th scope="row">{{user.id}}</th>
							<td>{{user.firstName}}</td>
							<td>{{user.lastName}}</td>
							<td>{{user.email}}</td>
							<td>{{user.username}}</td>
							<td>{{user.role["name"]}}</td>
							<td [ngStyle]="{color: user.active ? 'green' : 'red'}">{{user.active | status}}</td>
							<td>
								<div class="btn-group" dropdown>
										<button dropdownToggle type="button" class="btn btn-primary dropdown-toggle">
											Manage User <span class="caret"></span>
										</button>
										<ul *dropdownMenu class="dropdown-menu" role="menu">
											<li role="menuitem"><a class="dropdown-item" (click)="redirectEditUser(user)">Edit Details</a></li>
											<li role="menuitem"><a class="dropdown-item" (click)="redirectChangePassword(user)">Change Password</a></li>
											<li *ngIf="user.active" role="menuitem"><a class="dropdown-item" (click)="changeUserStatus(user)" style="color: red;">Unactivate</a></li>
											<li *ngIf="!user.active" role="menuitem"><a class="dropdown-item"(click)="changeUserStatus(user)" style="color: rgb(40, 158, 10); ">Activate</a></li>
										</ul>
								</div>
							</td>
						</tr>
					</tbody>
				</table>
			</section>
		</div>
	</div>
</div>


 